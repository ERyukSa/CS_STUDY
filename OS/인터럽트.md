# 📌들어가기 앞서

## 커널이란?
**컴퓨터의 모든 자원을 관리하는 운영체제의 핵심 구성 요소**를 말하며, 쉽게 운영체제라고 하기도 한다.

<br>

   ### 특징)
      커널 메모리의 자원은 보안상의 이유로 사용자 프로그램이 직접 접근할 수 없고, 시스템 콜(system call)을 통해 OS에 요청해야 한다.

<br>

## 소프트웨어로서의 운영체제
소프트웨어는 크게 운영체제와 사용자 프로그램으로 나눌 수 있는다. 즉, **메모리에는 운영체제와 프로세스가 함께 적재되며, CPU는 PC(프로그램 카운터)가 가리키는 메모리의 프로그램을 수행하게 된다.** 

   - 커널 모드: PC가 운영체제 커널의 메모리 영역을 가리키고 있으며, 커널 자원을 사용하고 있음을 의미한다.
   - 사용자 모드: PC가 프로세스의 메모리를 가리키고 있는 상태로, 프로그램이 실행되고 있는 상태를 말한다.

<br>

--- 

<br>


# 📌인터럽트(Interrupt)

## 인터럽트란?
CPU가 프로그램을 실행하는 도중 디바이스에 예기치 못한 이벤트가 발생했을때, 그것을 처리하기 위해 CPU에 알리는 것을 뜻한다.

<br>

## 인터럽트의 분류
1. 하드웨어 인터럽트
   - **외부 인터럽트:** 가장 빈번하게 발생하는 인터럽트로, 주변 하드웨어 장치에 의해 발생하여 CPU의 코어에 입력된다.
   
        ex) 정전, 하드웨어 오류, 마우스, 키보드 입출력

   - **내부 인터럽트:** CPU 내부에서 발생하는 인터럽트로, 예외가 발생하거나 CPU 할당 과정에서의 Timer 인터럽트가 이에 해당한다.
   
        ex) 0으로 나누기, 오버플로우, 잘못된 메모리 참조, 타이머 인터럽트(CPU 할당 변경 과정中)

2. 소프트웨어 인터럽트
   
   프로그램 실행중 코드에 의해 프로그램 스스로 발생하는 인터럽트를 의미한다.
  
   ex) 커널 함수를 실행을 위한 **시스템 콜(system call)**
   
   > 💡 시스템 콜) 응용 프로그램에서 커널 자원에 접근하고자 할 때 OS에 호출하는 것을 말한다.

<br>

## 인터럽트 처리
   
   
   - ### 인터럽트 처리 과정
      1. 인터럽트 발생
      2. CPU가 현재 처리중인 명령어 수행을 마친 후, 인터럽트 라인을 확인한다.
      3. CPU가 현재 실행중이던 process의 상태 정보를 커널의 PCB에 저장한다.
      4. 인터럽트의 종류를 확인하여, 인터럽트 벡터를 통해 해당 인터럽트에 맞는 인터럽트 서비스 루틴(ISR, 혹은 인터럽트 핸들러)을 수행한다.   
      5. 루틴을 마치면, 이전에 실행하던 process의 상태 정보를 읽어와 프로그램을 다시 실행시킨다.

   <br>

   - ### 참고 사항
      - **PCB(Process Control Block):** 프로세스의 상태 정보를 저장하는 곳으로, 커널의 데이터 영역에 있는 자료구조
      - **인터럽트 벡터:** 인터럽트가 발생했을 때 처리하기 위해 실행해야 하는 루틴의 주소를 담고 있는 테이블로, CPU에 포함되어 있다.
      - **인터럽트 핸들러:** 인터럽트를 처리하기 위한 함수라고 볼 수 있으며, 인터럽트 서비스 루틴이라고도 말한다.

<br>

## 참고
- ### 커널: 
  [5equal0님 블로그](https://5equal0.tistory.com/entry/Linux-Kernel-%EC%BB%A4%EB%84%90%EC%9D%98-%EA%B0%9C%EB%85%90%EA%B3%BC-%EC%BB%A4%EB%84%90%EC%9D%98-%EA%B5%AC%EC%A1%B0)


- ### 인터럽트: 
   [탕탕탕구리님 블로그](https://real-dongsoo7.tistory.com/93)

   [두리님 블로그](https://jiwonxdoori.tistory.com/34)

   [박연호님 블로그](https://kosaf04pyh.tistory.com/197)

   [adam2님 블로그](https://velog.io/@adam2/%EC%9D%B8%ED%84%B0%EB%9F%BD%ED%8A%B8)